<!DOCTYPE html>
<!--
<html xmlns:th="thymeleaf.org">
-->

<head>
	<script src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<style>
		.sell-link {
			display: block;
			text-align: center;
			margin-top: 20px;
			font-size: 16px;
			font-weight: bold;
			color: #3498db;
			text-decoration: none;
		}
	</style>
	<style>
		body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
		}

		body {
			font-family: 'Arial', sans-serif;
			background-color: #f4f4f4;
		}

		.container-fluid.bg-primary {
			color: #ffffff;
			/* 배경 색상이 primary일 때 텍스트 색상을 밝게 설정 */
		}

		.hero-header {
			text-align: center;
		}

		h1 {
			margin-top: 50px;
			text-align: center;
		}

		table {
			width: 100%;
			border-collapse: collapse;
			background-color: #ffffff;
			margin-top: 20px;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
		}

		.package-item img {
			width: 100%;
			height: auto;
			max-width: 100%;
			/* 이미지의 최대 너비를 100%로 설정 */
			max-width: 150px;
			/* 이미지의 최대 너비 설정 */
		}

		table th,
		table td {
			padding: 15px;
			text-align: left;
			border-bottom: 1px solid #e0e0e0;
		}

		table td img {
			width: 100%;
			height: auto;
			max-width: 150px;
			/* 이미지의 최대 너비 설정 */
		}

		table {
			width: 100%;
			border-collapse: collapse;
			background-color: #ffffff;
			margin-top: 20px;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
		}

		table th,
		table td {
			padding: 15px;
			text-align: left;
			border-bottom: 1px solid #e0e0e0;
		}

		table th {
			background-color: #f8f8f8;
		}

		table tr:hover {
			background-color: #f9f9f9;
		}

		a {
			color: #007bff;
			/* 링크 색상을 부트스트랩의 기본 색상으로 설정 */
			text-decoration: none;
			transition: color 0.3s ease;
		}

		a:hover {
			color: #0056b3;
			/* 링크에 호버시 더 진한 색상으로 변경 */
		}

		#paging {
			text-align: center;
		}

		/* 판매완료 이미지의 스타일 설정 */
		.sale-overlay {

			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: rgba(255, 255, 255, 0.7);
			/* 흑백 효과를 위해 투명한 흰 배경을 사용 */
			color: #000000;
			/* 텍스트 색상을 검정색으로 설정 */
			padding: 10px;
			font-size: 16px;
			font-weight: bold;
			filter: grayscale(100%);
			/* 흑백 처리 */
			z-index: 1;
		}

		.position-relative {
			position: relative;
		}

		.grayscale {
			filter: grayscale(100%);
		}

		#paging a {
			/*
			display: inline-block;
			*/
			width: 40px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			margin: 0 5px;
			/*
			border-radius: 50%;
			*/
			/* 동그란 모양 */
			/*
			background-color: #f8f8f8;
			*/
			transition: background-color 0.3s ease;
			color: #333;
			text-decoration-line: none;
		}

		#paging a:hover {
			background-color: #e0e0e0;
		}

		#paging a.active {
			background-color: rgb(128, 0, 64);
			/* 활성화된 페이지의 배경색 변경 */
			color: rgb(240, 223, 15);
			/* 텍스트 색상 변경 */
			font-weight: bold;
			/* 글꼴 굵게 설정 */
		}

		#paging a:not(.active):not(:hover) {
			font-size: 20px;
			color: rgb(128, 128, 128);
			/*
			color: rgb(240, 223, 15);
			/* 노란색 */
		}

		.btn.btn-warning.rounded-pill.py-2.px-4 {
			padding-top: 8px;
			/* 기본값은 16px, 길이를 8px로 줄입니다. */
			padding-bottom: 8px;
			font-size: 18px;
			/* 버튼의 글자 크기를 조절하여 버튼의 전체적인 높이를 줄입니다. */
		}

		.page-container {
			text-align: right;
			max-width: 200px;
			/* 예시 너비, 필요에 따라 조절 */
			margin: 0 auto;
			/* 가운데 정렬을 위한 여백 설정 */
			padding: 0 20px;
			/* 양쪽 여백 설정 */
			box-sizing: border-box;
			/* 패딩과 테두리를 포함한 전체 너비로 계산 */
		}
	</style>
	<script th:inline="javascript">

		$(document).ready(function () {
			$('.package-item').click(function () {
				var bno = $(this).attr('bbno');
				location.href = "./read?boardnum=" + bno;
			});

			$('.item').click(function () {
				var boardnum = $(this).attr('data-boardnum');
				alert(boardnum);
				// Ajax 요청 보내기
				$.ajax({
					url: '/your-ajax-endpoint', // 실제로 사용하려는 서버 엔드포인트로 변경하세요.
					type: 'post',
					data: {boardId: boardId},
					success: function (response) {
						// Ajax 성공 시 수행할 동작
						console.log('Ajax 성공:', response);
					},
					error: function () {
						// Ajax 실패 시 수행할 동작
						console.log('Ajax 실패');
					}
				});
			});
		});

	</script>
	<script>
		function pagingFormSubmit(currentPage) {
			var form = document.getElementById('pagingForm');
			let page = document.querySelector('#page');
			console.log(form);
			console.log(page);
			page.value = currentPage;
			form.submit();
		}

	</script>

</head>

<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<th:block th:replace="~{/layout/main :: setContent(~{this :: content})}">
	<th:block th:fragment="content">


		<div class="container-fluid bg-light py-3 mb-5 hero-header"></div>

		<div class="container-xxl">
			<div class="row">
				<div class="text-center wow fadeInUp md-5" data-wow-delay="0.05s">
					<h1 class=" section-title bg-white text-center text-dark px-3 mb-5">판매</h1>
				</div>
				<div class="page-container">
					<a th:href="@{./sellBoard}" class="btn btn-warning rounded-pill py-2 px-4" data-wow-delay="0.5s"
						style="margin-left: 1%; background-color: rgba(255, 165, 0, 0.5);">판매
						등록하기</a>
				</div>
				<div class="position-relative w-75 mx-auto animated slideInDown"
					style="padding-left: 20%; padding-bottom: 5%; display: flex; align-items: center; justify-content: space-between;">

					<form id="pagingForm" th:action="@{/bookBoard/bookBoardList}" method="get"
						style="width: 70%; display: flex;">
						<input type="hidden" name="page" id="page">
						<select id="type" name="type" class="btn btn-dark rounded-pill py-2 px-4 me-2">
							<option value="title" th:selected="${type} == 'title'">제목</option>
							<option value="contents" th:selected="${type} == 'contents'">본문</option>
							<option value="memberid" th:selected="${type} == 'memberid'">작성자ID</option>
							<option value="all" th:selected="${type} == 'all'">전체</option>
						</select>
						<input type="text" name="searchWord" th:value="${searchWord}"
							class="form-control border-0 rounded-pill py-3 ps-4 pe-5" style="background-color: #e0e0e0;"
							placeholder="검색어를 입력해주세요.">
						<input type="button" class="btn btn-dark rounded-pill py-2 px-4" onclick="pagingFormSubmit(1)"
							value="검색">
					</form>
				</div>
				<div class="col-lg-4 col-md-6 wow fadeInUp mb-5" th:each="board : ${boardList}" data-wow-delay="0.05s">
					<div class="package-item" style="height: 480px;" th:bbno="${board.bbno}">
						<div
							class="position-relative overflow-hidden d-flex justify-content-center align-items-center mb-5">
							<!--
							<img class="img-fluid" th:src="${board.thumbnail}" alt="">
							-->
							<!-- 판매완료 이미지 -->
							<!--
							<div class="item" th:data-boardnum="${board.bbno}">
							-->
							<div th:if="${board.enabled} eq 'N'">
								<h2 class="sale-overlay" th:text="판매완료"></h2>
								<!-- 흑백 처리된 이미지 -->
								<img class="img-fluid grayscale " th:src="${board.thumbnail}" style="padding-top: 30px;"
									alt="">
							</div>
							<div th:if="${board.enabled} eq 'Y'">
								<img class="img-fluid" th:src="${board.thumbnail}" style="padding-top: 30px;" alt="">
							</div>
						</div>
						<div class="text-center">
							<p style="font-size: 30px;" class="mb-0" th:text="${board.bookTitle}"></p>
							<p style="font-size: 20px; margin-top: 20px;" th:utext="${board.content}"></p>
							<p style="font-size: 30px;" class="mb-0" th:text="${board.price}">
								</h3>

						</div>


					</div>
				</div>
			</div>
			<!-- Add more items as needed -->
		</div>
		</div>

		<section id="paging">
			<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - navi.pagePerGroup})|">◁◁</a>
			<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|">◀</a>

			<span th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}">
				<th:block th:if="${counter == navi.currentPage}"><b></th:block>
				<a th:text="${counter}" th:if="${counter != 0}" th:href="|javascript:pagingFormSubmit(${counter})|"></a>
				<th:block th:if="${counter == navi.currentPage}"></b></th:block>
			</span>

			<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|">▶</a>
			<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + navi.pagePerGroup})|">▷▷</a>
			<br><br>



		</section>


		<script th:src="@{/js/package.js}"></script>

	</th:block>
</th:block>


</html>